{% from 'bootstrap5/form.html' import render_form, render_field %}
{% if not current_user.is_authenticated %}
<div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
    <div class="modal-dialog text-white">
        <div class="modal-content bg-dark">
            <div class="modal-header border-0">
                <h1 class="modal-title fs-5" id="registerModalLabel">Create Account</h1>
            </div>
            <form method="post">
                <div class="modal-body">
                    {% with messages = get_flashed_messages() %}
                    {% if messages %}
                    {% for message in messages %}
                    <p style="color:red;">{{ message }}</p>
                    {% endfor %}
                    {% endif %}
                    {% endwith %}

                    {{ reg_form.csrf_token() }}
                    {{render_field(reg_form.email)}}
                    {{render_field(reg_form.password)}}
                    {{render_field(reg_form.name)}}

                </div>
                <div class="modal-footer border-0">
                    {{render_field(reg_form.submit)}}
                </div>
            </form>
        </div>
    </div>
</div>
{% endif %}

